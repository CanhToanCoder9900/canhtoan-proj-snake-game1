<html>
  <link href="https://fonts.googleapis.com/css2?family=Piazzolla:ital,wght@1,900&display=swap" rel="stylesheet">

  <head>
    <title>test thử</title>
    <style>body {
      font-family: 'Piazzolla', serif;
      font-size: 14px;
      height: 100%;
    
      /* Center and scale the image nicely */
      background-size: cover;
           background-image: url(https://cdn.glitch.com/e33c65c0-dce5-46f6-a76a-0497e22bb1b5%2Fjh.jpg?v=1601553406369);
      }
    #board div{
       background-color: '#0b31ac';
        border: 1px solid rgb(0, 255, 234);
        box-sizing: border-box;
        display: inline-block;
        width: 24px;
        height: 24px;
    }
    #colorw {
      color: white;
      font-family: 'Piazzolla', serif;

    }
    #colorw2 {
      color: white;
      font-family: monospace;

    }
    #colorw3 {
      color: #e0f000;
      font-family: monospace;

    }
    #board {
      margin: auto;
      width: calc(26*24px);
    }
    
    #board .snake{
      background-color:#fff200 ;
    }
    
    #board .apple{
    background-color: red;
    }
    
    label {
      font-size:30px;
    }
    
    input[type=text]{
      font-size: 28px;
      padding: 5px;
    }</style>
  </head>
<label id = "colorw">Game rắn săn mồi test beta</label>
<p id = "colorw2">Nếu game hiển thị không hiện hết màn hình có thể bấm tổ hợp (Ctrl) và (-) để thu nhỏ  </p>


  <body onload = "initGame()" >

    <div id = "board">
    </div><br><br>
    <label id = "colorw"> Điểm Số: </label>

    <input type = "text" id = "score" readonly>
    <b1></b1>
    <p id = "colorw3">Tết Trung Thu (chữ Nôm: 節中秋; tiếng Trung: 中秋節 (Trung thu tiết)/ Zhōngqiū jié; Tiếng Hàn: 추석; Tiếng Nhật: 月見) theo Âm lịch là ngày Rằm tháng 8 hằng năm, đây đã trở thành ngày tết của trẻ em (Tết thiếu nhi),[2] còn được gọi là Tết trông Trăng hay Tết hoa đăng. Trẻ em rất mong đợi ngày này vì thường được người lớn tặng đồ chơi, thường là đèn ông sao, mặt nạ, đèn kéo quân, tò he,... và được ăn bánh nướng, bánh dẻo. Vào ngày này, người ta tổ chức bày cỗ, trông trăng. Thời điểm trăng lên cao, trẻ em sẽ vừa múa hát vừa ngắm trăng phá cỗ. Ở một số nơi người ta còn tổ chức múa lân, múa sư tử, múa rồng để các em vui chơi thoả thích. Tại Trung Quốc và các khu phố người Hoa trên thế giới còn có tổ chức bắn pháo hoa trong ngày này.</p>
    <p id = "colorw3">Nguồn gốc
      Cho đến bây giờ, vẫn chưa xác minh rõ ràng được Tết Trung thu bắt nguồn từ văn minh lúa nước của Việt Nam hay tiếp nhận từ văn hóa Trung Hoa. Có ba truyền thuyết chính được người ta biết đến nhiều nhất để nói về Trung thu đó là Hằng Nga và Hậu Nghệ, vua Đường Minh Hoàng lên cung trăng và Sự tích về chú Cuội của Việt Nam.
      
      Theo các nhà khảo cổ thì hình ảnh về Trung thu đã được in trên mặt trống đồng Ngọc Lũ. Người Trung Hoa cổ đại cho rằng Tết Trung Thu bắt nguồn từ thời Xuân-Thu. Có lẽ Trung thu được bắt đầu từ nền văn minh lúa nước của đồng bằng Nam Trung Hoa và đồng bằng châu thổ sông Hồng của Việt Nam, là một ngày lễ hội mừng thu hoạch được mùa, vào lúc nông dân nghỉ ngơi và vui chơi sau một vụ mùa.
      
      Theo Phan Kế Bính trong sách Việt Nam phong tục, tục treo đèn bày cỗ do điển xưa về việc vua Đường Minh Hoàng. Vào ngày sinh nhật vua Đường Minh Hoàng, truyền cho thiên hạ đâu đâu cũng treo đèn và bày tiệc ăn mừng, từ đó thành tục.[3]
      
      Tục rước đèn có từ đời nhà Tống, do tục truyền rằng: Trong đời vua Tống Nhân Tông, có con cá chép thành yêu, cứ đêm trăng hiện lên biến thành con gái để đi hại người. Bấy giờ có viên quan Bao Công mới hạ lệnh cho dân gian làm đèn con cá giống như hình của nó rồi đem mang ra chơi ngoài đường để cho nó sợ mà không dám hại người.[3]
      
      Cũng theo Phan Kế Bính, tục hát trống quân có từ đời vua Quang Trung Nguyễn Huệ, "nguyên khi ông đem quân ra Bắc. Quân sĩ lắm kẻ nhớ nhà. Nguyễn Huệ mới bày ra một cách cho đôi bên giả làm trai gái, hát đối đáp với nhau để cho quân sĩ vui lòng mà đỡ nhớ nhà. Có đánh trống làm nhịp, cho nên gọi là trống quân".[3]</p>
      <p id = "colorw3">Rước đèn
        Tại một số vùng nông thôn, những nơi mà quan hệ hàng xóm láng giềng vẫn còn được bảo tồn và trân trọng, người ta thường tổ chức cho trẻ em cùng nhau rước đèn đi khắp thôn, xóm, khu phố trong đêm trung thu. Lễ hội rước đèn có thể được phát động bởi chính quyền địa phương hoặc những nhóm thanh niên trong làng xóm. Họ phân công nhau làm những lồng đèn ông sao thật lớn hoặc những lồng đèn thật đẹp để thi thố với nhau trong lễ rước đèn. Tại Phan Thiết (Bình Thuận), người ta tổ chức rước đèn quy mô lớn với hàng ngàn học sinh tiểu học và trung học cơ sở diễu hành khắp các đường phố, lễ hội này được xác lập kỷ lục lớn nhất Việt Nam. Đây là lễ hội rước đèn trung thu truyền thống có từ hàng trăm năm nay, và quy mô của lễ hội tại Phan Thiết mỗi năm một hoành tráng và to lớn hơn, tuy nhiên cũng có tính "thương mại" hơn.[5] Tại Tuyên Quang cũng có lễ hội rước đèn lớn, huy động hoàn toàn từ sự sáng tạo của người dân, từng làng từng xóm và chưa bị thương mại hóa.</p>
        <a id = "colorw3" href="https://vi.wikipedia.org/wiki/T%E1%BA%BFt_Trung_thu">Nguồn vi.wikipedia.org</a>
        <p id = "colorw2">Canh Toan 10B Binh Son</p>

  </body>

  <script> const khung_cua_tro_choi = [];
    const chieu_rong_cua_khung_ngan_cach = 26, chieu_dai_cua_khung_ngan_cach = 16;

    var Toa_do_ran_X;
    var Toa_do_ran_Y;
    var Chieu_dai_cua_ran;
    var Huong_di_chuyen;
    var Diem_so = 0;

    function initGame() {
        const thanh_phan_cua_bang = document.getElementById('board');

        for (var y = 0; y < chieu_dai_cua_khung_ngan_cach; ++y) {
            var row = [];
            for (var x = 0; x < chieu_rong_cua_khung_ngan_cach; ++x) {
                var cell = {};
                
                cell.element = document.createElement('div');
                thanh_phan_cua_bang.appendChild(cell.element);
                row.push(cell);
            }
            khung_cua_tro_choi.push(row);
        }

        bat_dau_tro_choi();
        var ret = lap_lai();
      if(ret == false)
        return;
    }
        
    function bat_dau_tro_choi() {
        Toa_do_ran_X = Math.floor(chieu_rong_cua_khung_ngan_cach / 2);
        Toa_do_ran_Y = Math.floor(chieu_dai_cua_khung_ngan_cach / 2);
        Chieu_dai_cua_ran = 3;
        Huong_di_chuyen = 'Lên';

        for (var y = 0; y < chieu_dai_cua_khung_ngan_cach; ++y) {
            for (var x = 0; x < chieu_rong_cua_khung_ngan_cach; ++x) {
                khung_cua_tro_choi[y][x].snake = 0;
              khung_cua_tro_choi[y][x].apple = 0;
            }
        }
        khung_cua_tro_choi[Toa_do_ran_Y][Toa_do_ran_X].snake = Chieu_dai_cua_ran;
      
      dat_qua_tao();
    }

     function lap_lai() {
        switch (Huong_di_chuyen) {
            case 'Lên':    Toa_do_ran_Y--; break;
            case 'Xuống':  Toa_do_ran_Y++; break;
            case 'Trái':  Toa_do_ran_X--; break;
            case 'Phải': Toa_do_ran_X++; break;
        }
        if (Toa_do_ran_X < 0 || Toa_do_ran_Y < 0 || Toa_do_ran_X >= chieu_rong_cua_khung_ngan_cach || Toa_do_ran_Y >= chieu_dai_cua_khung_ngan_cach) {
          var reset = confirm('Game Over. Bạn có muốn chơi lại không?');
          if(reset == true){
            bat_dau_tro_choi();
          }
          else {
            return;
          }
        }
        
      
      if(khung_cua_tro_choi[Toa_do_ran_Y][Toa_do_ran_X].snake == 1) {
        var reset = confirm('Game Over. Bạn có muốn chơi lại không?');
          if(reset == true){
            bat_dau_tro_choi();
          }
        else{
          return false;
        }
      }
      
      if(khung_cua_tro_choi[Toa_do_ran_Y][Toa_do_ran_X].apple === 1){
        Chieu_dai_cua_ran++;
        Diem_so++;
        document.getElementById("score").value = Diem_so;
        khung_cua_tro_choi[Toa_do_ran_Y][Toa_do_ran_X].apple = 0;
        dat_qua_tao();
      }
      
      khung_cua_tro_choi[Toa_do_ran_Y][Toa_do_ran_X].snake = Chieu_dai_cua_ran;
      
        for (var y = 0; y < chieu_dai_cua_khung_ngan_cach; ++y) {
            for (var x = 0; x < chieu_rong_cua_khung_ngan_cach; ++x) {
                var cell = khung_cua_tro_choi[y][x];

                if (cell.snake > 0) {
                    cell.element.className = 'snake';
                  cell.snake -= 1;
                }
              else if (cell.apple === 1){
                cell.element.className = 'apple';
              }
                else {
                    cell.element.className = '';
                }
            }
        }
        setTimeout(lap_lai, Chieu_dai_cua_ran<20? 270 : 220);
    }

    document.body.onkeydown = function() {
        switch (event.key) {
            case 'ArrowUp': 
            if(Huong_di_chuyen != 'Xuống')
            Huong_di_chuyen = 'Lên'; break;
            case 'ArrowDown': 
            if(Huong_di_chuyen != 'Lên')
            Huong_di_chuyen = 'Xuống'; break;
            case 'ArrowLeft': 
            if(Huong_di_chuyen != 'Phải')
            Huong_di_chuyen = 'Trái'; break;
            case 'ArrowRight': 
            if(Huong_di_chuyen != 'Trái')
            Huong_di_chuyen = 'Phải'; break;
            default: break;
        }
        event.preventDefault();
    }
    
    function dat_qua_tao() {
      var appleX = Math.floor(Math.random() * chieu_rong_cua_khung_ngan_cach);
      var appleY = Math.floor(Math.random() * chieu_dai_cua_khung_ngan_cach);
      
      for(var y = 0; y < chieu_dai_cua_khung_ngan_cach; y++) {
        for(var x = 0; x < chieu_rong_cua_khung_ngan_cach; x++) {
          if(khung_cua_tro_choi[y][x].snake == 0) {
            khung_cua_tro_choi[appleY][appleX].apple = 1;
            break;
          }
        }
      }
      
    }</script>
</html>
